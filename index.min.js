const e=e=>Array.from(e.children??[]),r=e=>e.tagName?.toLowerCase().replace("_","-")||"text",t=e=>e?.ownerDocument,n=e=>e?.parentElement,a=(r,t,n=[])=>{for(const e of r)t(e)&&n.push(e);for(const o of r)a(e(o),t,n);return n},o=e=>e.parentElement,s=(e,r)=>{if(e)return r(e)?e:s(n(e),r)},c=(e,r,t=[])=>e?(e&&t.push(e),r(e)?t:c(n(e),r,t)):[],i=(e,r)=>r.appendChild(e),l=e=>Array.from(e.childNodes),u=e=>e.parentNode,p=(e,r)=>u(r).replaceChild(e,r),d=e=>u(e).removeChild(e),f=Object.freeze(["SCRIPT","IFRAME"]),m=e=>(e=>1===e.nodeType)(e)?"":"Element type should be HTML Element.",_=e=>{return r=e,f.includes(r.toUpperCase())?"Unsafe html tag "+e:"";var r},h=(e,r)=>u(r).insertBefore(e,r)&&e,y=e=>0!==e.childNodes,v=e=>(new DOMParser).parseFromString(e,"text/html").documentElement,b=async(e,r=globalThis)=>Object.assign(r,{...await import(e)}),g=async(e="npm:linkedom@0.18.5",r=globalThis)=>Object.assign(r,{...await import(e),Event:r.Event,InputEvent:r.InputEvent,EventTarget:r.EventTarget}),x=e=>3===e.nodeType,w=e=>x(e)&&e.textContent,E=(e,r)=>e.createTextNode(r),O=(e,r)=>e[r],j=e=>e.__effects,R=e=>e.initialFunc?.(),S=e=>e.func?.(),T=e=>e?Object.values(e).map(S):[],C=(e,r={})=>e.__effects=e.__effects??r,N=(e,r,t)=>((e,r)=>e.initialFunc=r)(O(e,r),t),$=(e,r)=>e===r,z=()=>!1,D=()=>!0,k=Object.freeze(["children"]),L=e=>Object.getOwnPropertyNames(e),P=e=>k.includes(e),A=e=>L(e).filter((e=>!P(e))).length,I=e=>null!=e,F=e=>"object"==typeof e&&null!==e,M=e=>null!=e,W=e=>e instanceof Array,H=e=>"function"==typeof e,U=(e,r)=>e.every(((t,n)=>B(e[n],r[n]))),V=(e,r)=>(!((e,r)=>M(e)&&M(r))(e,r)&&$||!((e,r)=>e.length===r.length)(e,r)&&z||U)(e,r),B=(e,r)=>(H(e)&&H(r)&&D||W(e)&&W(r)&&V||F(e)&&F(r)&&Y||$)(e,r),G=(e,r)=>L(e).every((t=>((e,r,t)=>P(t)||B(e[t],r[t]))(e,r,t))),Y=(e,r)=>(!((e,r)=>I(e)&&I(r))(e,r)&&$||!((e,r)=>A(e)===A(r))(e,r)&&z||G)(e,r),K=(e,r,t,n)=>{if(!((e,r)=>e[r])(e,r))return((e,r)=>e[r.name]=r)(e,((e,r,t)=>({name:e,func:r,deps:t,initialFunc:void 0}))(r,t,n));const a=O(e,r);return V(a.deps,n)&&!(e=>void 0===e)(n)?((e=>{e.func=void 0})(a),a):(((e,r)=>{e.deps=r})(a,n),((e,r)=>{e.func=r})(a,t),a)},q=e=>(e=>e.children instanceof Array)(e)?e.children:[e.children],J=Symbol.for("react.fragment"),Q=e=>e?.type===J,X=e=>void 0===e?.$$typeof,Z=Symbol.for("react.element"),ee=Object.freeze([Z,J]),re=e=>!!e,te=e=>"string"==typeof e.type,ne=e=>((e,r=e[0])=>Q(r)?q(r.props):e)(e).filter((e=>{return!(e=>"boolean"==typeof e)(r=e)&&!(e=>null===e)(r)&&!(e=>void 0===e)(r)&&(e=>"symbol"!=typeof e.$$typeof||ee.includes(e.$$typeof))(e);var r})),ae=e=>"function"==typeof e.type,oe=e=>e.__elem,se=e=>"symbol"==typeof e?e:Z,ce=e=>ae(e)&&(e=>e.type.name.toLowerCase().replace("_","-"))(e)||te(e)&&(e=>e.type)(e)||Q(e)&&"fragment"||"text",ie=e=>e.props,le=e=>e.key,ue=(e,r,t,n,a)=>({$$typeof:se(e),type:e,props:r,key:t,ref:a,_owner:n}),pe=(e,r)=>e.__elem=r,de=e=>(e=>"symbol"==typeof e.$$typeof)(e)?"":"Element should be jsx element.",fe=(e,r)=>{const t=q(e.props),n=((e,r)=>({...e,children:ne(r)}))(e.props,t),a=((e,r,t)=>e.type(Object.freeze(t),r))(e,r,n);return ne(a instanceof Array?a:[a])},me=e=>{if(!e)return!1;throw new Error(e)},_e=(e,r)=>e.value=r,he=e=>[e.value,r=>_e(e,r())],ye=(e,r,t,n)=>{if(!((e,r)=>e[r])(e,r)){const a=((e,r)=>e[r.name]=r)(e,((e,r,t)=>({name:e,value:r,deps:t}))(r,t(),n));return he(a)}const a=((e,r)=>e[r])(e,r);return V(a.deps,n)&&!(e=>void 0===e)(n)||(((e,r)=>{e.deps=r})(a,n),_e(a,t())),he(a)},ve=(e,r)=>e.value=r,be=(e,r={})=>e.__states=e.__states??r,ge=e=>e.__states,xe=e=>[e.value,r=>ve(e,r)],we=(e,r,t,n)=>{if(!((e,r)=>e[r])(e,r)){const a=((e,r)=>e[r.name]=r)(e,((e,r,t)=>({name:e,value:r,deps:t}))(r,t,n));return xe(a)}const a=((e,r)=>e[r])(e,r);return V(a.deps,n)&&!(e=>void 0===e)(n)||(((e,r)=>{e.deps=r})(a,n),ve(a,t)),xe(a)},Ee=(e,r={})=>e.__contexts=e.__contexts??r,Oe=(e,r)=>(e.value=r,e),je=(e,r)=>e[r],Re=e=>e.__contexts,Se=(e,r)=>r in e,Te=(e,t)=>s(e,(e=>((e,t)=>"context"===r(e)&&Se(Re(e),t))(e,t))),Ce=(e,r)=>je(e,r).value,Ne=(t,n)=>((r,t,n=[],o=a)=>o(e(r),t,n))(t,(e=>((e,t)=>"context"!==r(e)&&Se(Re(e),t))(e,n))),$e=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*\:/i,ze=Object.freeze(["innerHTML","outerHTML"]),De=Object.freeze(["action","background","dynsrv","href","lowsrc","src"]),ke=(e,r)=>{return!(e=>De.includes(e))(r)||(t=e[r],!$e.test(t||""));var t},Le=Object.freeze({"aria-autocomplete":"ariaAutoComplete","aria-colcount":"ariaColCount","aria-colindex":"ariaColIndex","aria-colindextext":"ariaColIndexText","aria-haspopup":"ariaHasPopUp","aria-keyshortcuts":"ariaKeyShortcuts","aria-multiselectable":"ariaMultiSelectable","aria-posinset":"ariaPosInSet","aria-readonly":"ariaReadOnly","aria-roledescription":"ariaRoleDescription","aria-rowcount":"ariaRowCount","aria-rowindex":"ariaRowIndex","aria-rowspan":"ariaRowSpan","aria-setsize":"ariaSetSize","aria-valuemax":"ariaValueMax","aria-valuemin":"ariaValueMin","aria-valuenow":"ariaValueNow","aria-valuetext":"ariaValueText"}),Pe=Object.freeze({class:"className",for:"htmlFor",readonly:"readOnly",tabindex:"tabIndex",css:"innerHTML",html:"innerHTML"}),Ae=Object.freeze(["children"]),Ie=Object.freeze(["checked","disabled","hidden","readOnly","readonly","selected"]),Fe=e=>e.startsWith("__"),Me=e=>{return(e=>e in Pe)(e)&&Pe[e]||(e=>e.startsWith("aria-"))(e)&&(Le[e]||`aria${(r=e)[5].toUpperCase()}${r.substring(6)}`)||e;var r},We=(e,r)=>((e,r)=>((e,r)=>r in e)(e,Me(r))||Fe(r))(e,r)&&!(e=>Ae.includes(e))(r)&&!(e=>e.startsWith("on"))(r)&&!((e,r)=>e[r]?.constructor?.name.startsWith("SVG"))(e,r),He=e=>Object.getOwnPropertyNames(e),Ue=(e,r)=>He(r).filter((r=>We(e,r))).filter((e=>((e,r)=>!ze.includes(r)&&ke(e,r))(r,e))),Ve=(e,r)=>{const t=((e,r)=>Object.getOwnPropertyDescriptor(e,r))(e,r);return!t||!("writable"in t)||t.writable},Be=/[^\w. ]/gi,Ge=e=>`&#${e.charCodeAt(0)};`,Ye=(e,r,t)=>(e=>Ie.includes(e))(r)&&(e=>(e=>null==e||""===e)(e)||e)(t)||((e,r)=>"STYLE"!==e.tagName&&"css"===r)(e,r)&&"*"||(e=>"html"===e)(r)&&t.replace(Be,Ge)||t,Ke=(e,r,t)=>e[r]=t,qe=(e,r,t)=>(e=>"style"===e)(r)?((e,r)=>Object.assign(e.style,r))(e,t):Fe(r)?Ke(e,r,t):Ve(e,r)?(Ke(e,Me(r),Ye(e,r,t)),t):void 0,Je=(e,r)=>Ue(e,r).reduce(((e,t)=>(qe(e,t,((e,r)=>e[r])(r,t)),e)),e),Qe=(e,r)=>{if(Ve(e,r))return((e,r)=>e[r]=(e=>"className"===e)(r)?"":void 0)(e,Me(r))},Xe=(e,r)=>r in e,Ze=(e,r)=>((e,r)=>!Xe(e,Me(r))||((e,r)=>e[r]?.constructor?.name.startsWith("SVG"))(e,r))(e,r)&&!(e=>e.startsWith("on"))(r)&&!(e=>e.startsWith("__"))(r)&&!(e=>"xmlns"===e)(r),er=(e,r)=>(e=>Object.getOwnPropertyNames(e))(r).filter((r=>Ze(e,r))),rr=(e,r)=>er(e,r).reduce(((e,t)=>(((e,r,t)=>{if(!(e=>"function"==typeof e)(t))((e,r,t)=>{e.setAttributeNS?.(null,r,t)})(e,r,t)})(e,t,r[t]),e)),e),tr=(e,r,t)=>e.dispatchEvent(((e,r)=>new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r}))(r,t)),nr=e=>e.replace("on",""),ar=e=>e.startsWith("on"),or=e=>(e=>Object.getOwnPropertyNames(e))(e).filter(ar).filter((r=>((e,r)=>"function"==typeof e[r])(e,r))),sr=e=>"__"+e,cr=(e,r,t)=>(e.addEventListener(nr(r),t),((e,r,t)=>{e[sr(r)]=t})(e,r,t),r),ir=(e,r)=>or(r).map((t=>cr(e,t,r[t]))),lr=(e,r)=>(e.removeEventListener(nr(r),((e,r)=>e[sr(r)])(e,r)),((e,r)=>{delete e[sr(r)]})(e,r),r),ur=(e,r)=>or(r).map((r=>lr(e,r))),pr=e=>{if(!e)return!1;throw new Error(e)},dr=e=>e.__ignore instanceof Array,fr=(e,r)=>mr(e)&&((e,r)=>e.__log.includes(r))(e,r),mr=e=>e.__log instanceof Array,_r=(e,r)=>(e=>ie(e).xmlns)(e)||(e=>e&&oe(e)&&ie(oe(e)).xmlns)(r),hr="rendering",yr="[rendering]",vr=(e,...r)=>fr(e,hr)&&console.info(yr,...r),br=(e,t)=>((e,t,n,a,o)=>o(`${n} elem:`,r(e),"props:",a,"parent:",t&&r(t),e))(e,n(e),t,ie(oe(e)),vr),gr=(e,r)=>x(e)?xr(e,r):br(e,r),xr=(e,t)=>((e,t,n,a)=>a(`${n} text:`,w(e),"parent:",t&&r(t),e))(e,n(e),t,vr),wr=(e,r)=>{if(X(e)){const n=((e,r)=>{const n=t(r),a=E(n,e);return i(a,r)})(e,r);return xr(n,"render"),n}pr(m(r)),pr(_(ce(e))),pr(de(e));const n=ie(e),a=((e,r,n)=>{const a=t(n),o=r?((e,r,t)=>e.createElementNS(r,t))(a,r,e):((e,r)=>e.createElement(r))(a,e);return i(o,n),o})(ce(e),_r(e,r),r);return rr(a,n),Je(a,n),ir(a,n),((e,r)=>{dr(e)||dr(r)&&((e,r)=>{e.__ignore=[...r.__ignore]})(e,r)})(a,r),((e,r)=>{mr(e)||mr(r)&&((e,r)=>{e.__log=[...r.__log]})(e,r)})(a,r),pe(a,e),br(a,"render"),a},Er=(e,r)=>{try{return e()}catch(e){throw((e,...r)=>{fr(e,hr)&&console.error(yr,...r)})(r,e.message,e.stack),((e,r)=>{tr(e,"error",{error:r})})(r,e),e}},Or=(e,r)=>ae(e)&&Er((()=>fe(e,r)),r)||te(e)&&(e=>ne(q(e.props)))(e)||[],jr=e=>Or(oe(e),e).map((r=>wr(r,e))),Rr=(e,r)=>{return(X(t=e)&&t?.toString())===w(r);var t},Sr=e=>o(e)&&!y(e),Tr=e=>o(e)&&y(e),Cr=e=>!o(e),Nr=e=>"style"===r(e)||(e=>e.__ignore?.includes(r(e)))(e)||x(e),$r=(e,r=v("<main></main>"))=>{const t=[wr(e,r)];for(const e of t)Nr(e)||t.push(...jr(e));return t.forEach((e=>T(j(e)))),t},zr=(e,r)=>{if(gr(r,"update"),X(e))return((e,r)=>(((e,r)=>{e.textContent=r})(r,e),r))(e,r);pr(m(r)),pr(de(e));const t=ie(e);return ur(r,t),rr(r,t),Je(r,t),ir(r,t),pe(r,e),r},Dr=e=>{if(gr(e,"unrender"),x(e))return(e=>n(e)?d(e):e)(e);pr(m(e));const r=ie(oe(e));var t,a;return!(t=j(e))||Object.values(t).map(R),((e,r)=>{er(e,r).reduce(((e,r)=>(((e,r)=>{e.removeAttribute(r)})(e,r),e)),e)})(e,r),((e,r)=>{Ue(e,r).reduce(((e,r)=>(Qe(e,r),e)),e)})(e,r),ur(e,r),He(a=e).filter(Fe).reduce(((e,r)=>(Qe(e,r),e)),a),(e=>{n(e)&&d(e)})(e),e},kr=(e,r)=>(gr(r,"replace"),x(r),p(e,r),e),Lr=(e,t)=>!((e,t)=>ce(e)===r(t))(e,t),Pr=(e,r)=>!!te(e)||(!(!ae(e)||((e,r)=>Y(ie(e),ie(oe(r))))(e,r))||(!(!ae(e)||!(e=>ie(e)["no-skip"])(e))||!(!X(e)||Rr(e,r)))),Ar=Object.freeze({render:0,update:1,replace:2,unrender:3,skip:4}),Ir=(e,r)=>((e,r)=>re(e)&&!r)(e,r)?Ar.render:((e,r)=>r&&!re(e))(e,r)?Ar.unrender:Lr(e,r)?Ar.replace:Pr(e,r)?Ar.update:Ar.skip,Fr=(e,r)=>r.find((r=>((e,r)=>le(e)===le(oe(r)))(e,r))),Mr=(e,r,n)=>r===e&&e||e&&r&&h(r,e)||e&&((e,r,n)=>{const a=t(n),o=E(a,e);return h(o,r)})("",e,n),Wr=(e,r)=>{return r[0]&&(e=>null!=e.key)(r[0])?(t=r,n=l(e),a=e,t.forEach(((e,r)=>Mr(((e,r)=>e.childNodes[r])(a,r),Fr(e,n),a))),l(a)):l(e);var t,n,a},Hr=e=>{const r=Or(oe(e),e),t=Wr(e,r);return(n=r,a=t,n.length>a.length?n:a).flatMap(((n,a)=>((e,r,t)=>{switch(Ir(e,r)){case Ar.render:return wr(e,t);case Ar.replace:return[kr(wr(e,t),r),Dr(r)];case Ar.update:return zr(e,r);case Ar.unrender:return Dr(r);default:return[]}})(r[a],t[a],e)));var n,a},Ur=e=>l(e).map(Dr),Vr=(e,r=oe(e))=>{const t=[zr(r,e)];for(const e of t)Nr(e)||(Sr(e)?t.push(...jr(e)):Tr(e)?t.push(...Hr(e)):Cr(e)&&t.push(...Ur(e)));return t.forEach((e=>T(j(e)))),t},Br=e=>{const r=[Dr(e)];for(const e of r)Nr(e)||r.push(...Ur(e));return r},Gr=(e,r=v("<main></main>"))=>(r.ownerDocument.__render=r.ownerDocument.__render||$r,r.ownerDocument.__update=r.ownerDocument.__update||Vr,r.ownerDocument.__unrender=r.ownerDocument.__unrender||Br,$r(e,r)[0]);export{Vr as update};export{Br as unrender};export{Gr as render};const Yr=(e,r,t)=>{const n=Te(t,e);return((e,r,t)=>{const n=Re(t),a=je(n,e);Oe(a,r)})(e,r,n),Ne(n,e).map((t=>((e,r,t)=>{const n=Re(t),a=je(n,e);if(!B(a.value,r))return Oe(a,r),Vr(t)})(e,r,t)))},Kr=(e,r,t,n)=>{if(!Se(e,r)){const a=((e,r,t)=>{const n=Te(t,e);if(!n)return r;const a=Re(n);return je(a,e).value})(r,t,n),o=((e,r)=>({name:e,value:r}))(r,a);((e,r)=>{e[r.name]=r})(e,o)}return[Ce(e,r),e=>Yr(r,e,n)]},qr=({name:e,value:r,children:t},n)=>{const[,a]=Kr(Ee(n),e,r,n);return K(C(n),"setcontext",(()=>a(r,n)),[r]),t},Jr=({path:e,error:r,children:t},n)=>(lr(n,"onerror"),cr(n,"onerror",(e=>(e.stopPropagation(),Qr(n,e)))),r?React.createElement("error",null,React.createElement("span",{class:"path"},`Path: ${e}`),React.createElement("pre",{class:"error"},`Error: ${r}`)):t),Qr=(e,t)=>{const n=(e=>e.detail?.error)(t),a=(o=t.target,s=e,c(o,(e=>((e,r)=>e===r)(e,s))));var o,s,i;return Vr(e,React.createElement(Jr,{error:n?.message,path:(i=a,i.map(r).reverse().join("/"))}))},Xr=e=>e.ownerDocument.__services=e.ownerDocument.__services||{},Zr=(e,r)=>(((e,r,t)=>{e[r]=t})(Xr(r),e.name,e.value),e.children),et=(e,r)=>(e.props.hidden=r,e),rt=({suspending:e=!0,fallback:r,children:t})=>{var n;return et(r,!e),n=e,t.map((e=>et(e,n))),React.createElement(React.Fragment,null,r,...t)},tt=(e,r)=>e?.[r],nt=e=>e.ownerDocument.__services,at=e=>e.key,ot=e=>Object.getOwnPropertyNames(e),st=e=>e.ref,ct=(e,r,t)=>Object.assign(e,{[r]:t}),it=["key","ref","__self","__source"],lt=e=>(r,t)=>(ct(r,t,e[t]),r),ut=(e,r={})=>ot(e).filter((e=>!(e=>it.includes(e))(e))).reduce(lt(e),r),pt=(e,r)=>(e=>void 0!==at(e))(e)&&at(e).toString()||void 0!==r&&r.toString()||null,dt=e=>(e=>void 0!==st(e))(e)&&st(e)||null,ft=(e,r)=>{return r&&r.defaultProps?(t=r.defaultProps,n=ut(e),ot(t).filter((e=>!((e,r)=>void 0!==e[r])(n,e))).reduce(lt(t),n)):ut(e);var t,n},mt=(e,r,t)=>{return ue(e,ft(r,e),pt(r,t),(a=globalThis.React,n=a?.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,n?.ReactCurrentOwner?.current),dt(r));var n,a},_t=(e,r,...t)=>(e=>e&&e.length>0)(t)?mt(e,((e,r)=>ct(e,"children",r))(r??{},(e=>1==e?.length?e[0]:e)(t))):mt(e,r??{});export{j as getEffects};export{C as setEffects,N as setInitialEffect};export{K as useEffect};export{tr as dispatchEvent};export{cr as setHtmlEventHandler};export{ye as useMemo};export{ge as getStates};export{be as setStates};export{we as useState};globalThis.React=globalThis.React||Object.freeze({createElement:_t,Fragment:J});export{qr as Context};const ht=(e,r)=>{me(m(r)),me((e=>"function"==typeof e)(e.loader)?"":"Lazy loader should be function.");const[t,n]=we(be(r),"factory",void 0,[]);return K(C(r),"load",(async()=>{const t=await e.loader();n(t),Gr(ue(t,e),r)}),[]),t?ue(t,e):React.createElement(React.Fragment,null)};export{b as registerDomParser,g as registerLinkeDomParser};export{Jr as ErrorBoundary};export{ht as Lazy};export{Zr as Service};export{rt as Suspense};export{Re as getContexts};export{Ee as setContexts};export{Kr as useContext};export{nt as getServices};export{Xr as setServices};export{tt as useService};
//# sourceMappingURL=index.min.js.map